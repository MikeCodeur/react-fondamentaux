# Les formulaires

### ğŸ’¡ Maitriser les formulaires

## ğŸ“ Tes notes

Detaille ce que tu as appris ici
`src/exercise/09.md`ouÂ surÂ uneÂ pageÂ [Notion](https://go.mikecodeur.com/course-notes-template)

## Comprendre

Les formulaires sont Ã  la base du web et il existe de nombreuses maniÃ¨res de les
utiliser en React. Dans cette session nous allons voir quelques maniÃ¨res les
plus courantes de gÃ©rer les formulaires :

- pure javascript
- composant non contrÃ´lÃ©
- composant contrÃ´lÃ©

Nous prendrons un exemple simple : un formulaire de login

```html
<form>
  <label> Adresse email : <input "type="text" name="emailInput" /> </label>
  <input type="submit" value="Connexion" />
</form>
```

Il est possible de gÃ©rer l'Ã©vÃ¨nement `onSubmit` de `form.` Cet Ã©vÃ¨nement donne
accÃ¨s Ã  tous les Ã©lÃ©ments enfants du formulaire. On peut par exemple rÃ©cupÃ©rer
la valeur du champs email avec `event.target.elements.emailInput.value`

## Exercice

Dans cet exercice tu vas devoir rÃ©cupÃ©rer la valeur de l'email et l'afficher
dans un popup avec `alert`.

## Bonus

En HTML, les Ã©lÃ©ments de formulaire tels que `<input>`, `<textarea>`, et
`<select>` maintiennent gÃ©nÃ©ralement leur propre Ã©tat et se mettent Ã  jour par
rapport aux saisies de lâ€™utilisateur, leurs valeurs sont stockÃ© dans le DOM.
React nous permet d'accÃ©der a ces donnÃ©es de deux maniÃ¨res, via le DOM ou via
les states. On parle de `composants contrÃ´lÃ©s` vs `composants non contrÃ´lÃ©s.`

- Composant non-contrÃ´lÃ©
- Composant contrÃ´lÃ©

Les deux exercices suivant vont consister a utiliser les 2 approches.

### 1. ğŸš€ Composant non contrÃ´lÃ©

Utilisation de `React.createRef()` ou le hook `React.useRef()`. Comme nous
privilÃ©gions les Hooks, il faudra utiliser `React.useRef()` pour gÃ©rer la donnÃ©e
du champ email.

```jsx
const inputRef = React.useRef()
//dans le render
;<input type="text" ref={inputRef} />
//recupÃ©rer la valeur
inputRef.current.value
```

ğŸ“‘ Le lien vers la doc de
[useRef](https://fr.reactjs.org/docs/hooks-reference.html#useref)

### 2. ğŸš€ Composant contrÃ´lÃ©

Nous allons cette fois-ci passer par des states, supprime`React.useRef()` et
crÃ©Ã© un `state` email qui se met Ã  jour sur l'Ã©vÃ¨nement `onChange` du champs
input. La donnÃ©e se trouve dans `event.target.value`

```jsx
const handleChange = event => {
  //event.target.value
}
```

### 3. ğŸš€ Validation du formulaire

Dans cet exercice tu vas devoir valider le champs email. Nous vÃ©rifierons
simplement la prÃ©sence du caractÃ¨res `@` avec `email.includes('@')`. CrÃ©er un
state `error` qui contiendra un message d'erreur Ã  afficher dans une `div` avec
le style `color:red`placÃ© sous le champs input.

## Aller plus loin

Il existe de nombreuses librairie en React qui simplifie la gestions des
formulaires, message d'erreur et validation, un trÃ¨s courant est
[Formik](https://formik.org/)

ğŸ“‘ Le lien vers la doc [Formik](https://formik.org/)

## ğŸœ Feedback

Remplir le formulaire le
[formulaire de FeedBack.](https://go.mikecodeur.com/cours-react-avis?entry.1430994900=React%20Fondamentaux&entry.533578441=09%20Les%20formulaires)
