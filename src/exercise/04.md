# CrÃ©er des Composants React

### ğŸ’¡ Comment crÃ©er des composants personnalisÃ©s

## ğŸ“ Tes notes

Detaille ce que tu as appris ici
`src/exercise/04.md`ouÂ surÂ uneÂ pageÂ [Notion](https://go.mikecodeur.com/course-notes-template)

## Comprendre

Grace Ã  JSX et React nous pouvons facilement manipuler des Ã©lÃ©ments DOM dans
notre code sous forme de variables, ex : `const maDiv = <div>Hello</div>`. Il
est Ã©galement possible d'utiliser des fonctions qui retournent des Ã©lÃ©ments
return `return <div>Hello</div>`. Mais le plus utilisÃ© en React ce sont les
composants. nous allons y venir progressivement dans les exercices.

## Exercice

Dans un programme on cherche souvent Ã  factoriser du code. (Ã©viter la
duplication), imaginons ce code.

```html
<div className="rootContainer">
  <h1>Bienvenue sur mon site</h1>
  <p className="paragraphe">Lorem Ipsum is simply dummy text ...</p>
  <p className="paragraphe">Lorem Ipsum has been the industry's ...</p>
  <p className="paragraphe">when an unknown printer took a galley ...</p>
</div>
```

On voit une duplication des Ã©lÃ©ments `<p>` (paragraphe). nous voudrions
factoriser pour avoir :

```jsx
<p className="paragraphe">{children}</p>
```

Pour cela nous avons besoin d'une fonction avec un argument (objet children) qui
retourne l'Ã©lÃ©ment React.

```jsx
<div>{paragraphe({children: 'Lorem Ipsum ...'})}</div>
```

Dans cet exercice tu vas devoir factoriser les Ã©lÃ©ments `<p>` dans une fonction
`paragraphe()`

Ce n'est pas encore un composant React, mais patience on y vient

## Bonus

### 1. ğŸš€ Convertir en composant React

Une chose importante Ã  savoir avec JSX, c'est qu'il est _case sensitive_ pour la
transpilation. Cela veut dire qu'il ne gÃ©nÃ¨rera pas la mÃªme chose en fonction de
la casse (minuscule/majuscule). La chose importante Ã  retenir :

> ğŸ’¡ Le nom d'un composant (fonction ou classe) doit toujours commencer par un
> Majuscule pour Ãªtre interprÃ©ter correctement en JSX âœ…

```jsx
function welcome({children}) {
  // âŒ Ne sera pas interpetÃ© comme composant React
  return <div>{children}</div>
}

function Welcome({children}) {
  // âœ… Sera interpetÃ© comme composant React
  return <div>{children}</div>
}
```

Dans cette exercice il faudra convertir la fonction prÃ©cÃ©dente en composant
React

### 2. ğŸš€ Utilisation des PropType

Le problÃ¨me de JavaScript ce qui est faiblement typÃ©, Pour simplifier on peut
passer quasiment n'importe quel types de paramÃ¨tre Ã  une fonction (string,
number, array, objetc etc ...) cela ne posera pas de problÃ¨me de compilation.
Mais le problÃ¨me c'est que cela peut gÃ©nÃ©rer beaucoup de bugs. C'est pour Ã§a que
des extensions de JavaScript comme TypeScript ou Flow existent. React permet
tout de mÃªme d'avoir un systÃ¨me de validation des `props` .

```jsx

function Greeting(props)
	return <h1>Bonjour, {props.name}</h1>
}

Greeting.propTypes = {
  name: PropTypes.string
}
<Greeting name={2}> //âŒ Va gÃ©nÃ©rer une erreur dans la console
<Greeting name={[]}> //âŒ Va gÃ©nÃ©rer une erreur dans la console
<Greeting name='Mike'> // âœ… OK

```

ğŸ“‘ Le lien vers la doc PropTypes
[https://fr.reactjs.org/docs/typechecking-with-proptypes.html](https://fr.reactjs.org/docs/typechecking-with-proptypes.html)

Dans cette exercice il va falloir valider les `props` comme Ã©tant `obligatoire`
et de type `string .` On gÃ©nÃ¨rera une erreur si ce n'est pas la cas. Mais juste
avant changeons le composant `Paragraphe` pour qu'il ait dÃ©sormais deux `props`

```jsx
function Paragraphe({text, author}) {
  return (
    <p className="paragraphe">
      {text} : {author}
    </p>
  )
}
// utilisation
;<Paragraphe
  text="Lorem Ipsum is simply dummy text ..."
  author="Lorem"
></Paragraphe>
```

La premiÃ¨re chose a faire est d'inclure `prop-types` dans notre page et dÃ©clarer
les `PropTypes` sur aprÃ¨s la dÃ©claration du composant `Paragraphe`

```jsx
<script src="https://unpkg.com/prop-types@15.7.2/prop-types.js"></script>
```

Un message d'erreur doit s'afficher dans les logs lors de l'appel Ã 

```jsx
<Paragraphe></Paragraphe>
```

## ğŸœ Feedback

Remplir le formulaire le
[formulaire de FeedBack.](https://go.mikecodeur.com/cours-react-avis?entry.1430994900=React%20Fondamentaux&entry.533578441=04%20CrÃ©er%20des%20Composants%20React)
